// This module is private, meaning that no external crate can access this

// module. Because it is private at the root of this current crate, however, any

// module in the crate may access any publicly visible item in this module.

mod crate_helper_module {



    // This function can be used by anything in the current crate

    pub fn crate_helper() {}



    // This function *cannot* be used by anything else in the crate. It is not

    // publicly visible outside of the `crate_helper_module`, so only this

    // current module and its descendants may access it.

    fn implementation_detail() {}

}



// This function is "public to the root" meaning that it's available to external

// crates linking against this one.

pub fn public_api() {}



// Similarly to 'public_api', this module is public so external crates may look

// inside of it.

pub mod submodule {

    use crate_helper_module;



    pub fn my_method() {

        // Any item in the local crate may invoke the helper module's public

        // interface through a combination of the two rules above.

        crate_helper_module::crate_helper();

    }



    // This function is hidden to any module which is not a descendant of

    // `submodule`

    fn my_implementation() {}



    #[cfg(test)]

    mod test {



        #[test]

        fn test_my_implementation() {

            // Because this module is a descendant of `submodule`, it's allowed

            // to access private items inside of `submodule` without a privacy

            // violation.

            super::my_implementation();

        }

    }

}



fn main() {}

